--
-- Script was generated by Devart dbForge Studio for MySQL, Version 2025.2.37.0
-- Product home page: https://www.devart.com/dbforge/mysql/studio
-- Script date 2/2/2026 11:30:12 PM
-- Server version: 8.0.44
--

--
-- Disable foreign keys
--
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

--
-- Set SQL mode
--
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

--
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE restaurant_mgmt;

--
-- Drop table `role_permission`
--
DROP TABLE IF EXISTS role_permission;

--
-- Drop table `permission`
--
DROP TABLE IF EXISTS permission;

--
-- Drop table `ingredient_supplier`
--
DROP TABLE IF EXISTS ingredient_supplier;

--
-- Drop table `inventory_transaction_item`
--
DROP TABLE IF EXISTS inventory_transaction_item;

--
-- Drop table `inventory_transaction_media`
--
DROP TABLE IF EXISTS inventory_transaction_media;

--
-- Drop table `inventory_transaction`
--
DROP TABLE IF EXISTS inventory_transaction;

--
-- Drop table `supplier`
--
DROP TABLE IF EXISTS supplier;

--
-- Drop table `service_error`
--
DROP TABLE IF EXISTS service_error;

--
-- Drop table `order_item`
--
DROP TABLE IF EXISTS order_item;

--
-- Drop table `order_promotion`
--
DROP TABLE IF EXISTS order_promotion;

--
-- Drop table `payment`
--
DROP TABLE IF EXISTS payment;

--
-- Drop table `orders`
--
DROP TABLE IF EXISTS orders;

--
-- Drop table `reservation_table`
--
DROP TABLE IF EXISTS reservation_table;

--
-- Drop table `reservation`
--
DROP TABLE IF EXISTS reservation;

--
-- Drop table `customer`
--
DROP TABLE IF EXISTS customer;

--
-- Drop table `audit_log`
--
DROP TABLE IF EXISTS audit_log;

--
-- Drop table `auth_session`
--
DROP TABLE IF EXISTS auth_session;

--
-- Drop table `system_setting`
--
DROP TABLE IF EXISTS system_setting;

--
-- Drop table `staff_account`
--
DROP TABLE IF EXISTS staff_account;

--
-- Drop table `role`
--
DROP TABLE IF EXISTS role;

--
-- Drop table `dish_media`
--
DROP TABLE IF EXISTS dish_media;

--
-- Drop table `promotion_rule`
--
DROP TABLE IF EXISTS promotion_rule;

--
-- Drop table `promotion_target`
--
DROP TABLE IF EXISTS promotion_target;

--
-- Drop table `recipe`
--
DROP TABLE IF EXISTS recipe;

--
-- Drop table `dish`
--
DROP TABLE IF EXISTS dish;

--
-- Drop table `dish_category`
--
DROP TABLE IF EXISTS dish_category;

--
-- Drop table `i18n_translation`
--
DROP TABLE IF EXISTS i18n_translation;

--
-- Drop table `current_stock`
--
DROP TABLE IF EXISTS current_stock;

--
-- Drop table `ingredient`
--
DROP TABLE IF EXISTS ingredient;

--
-- Drop table `table_media`
--
DROP TABLE IF EXISTS table_media;

--
-- Drop table `restaurant_table`
--
DROP TABLE IF EXISTS restaurant_table;

--
-- Drop table `media_asset`
--
DROP TABLE IF EXISTS media_asset;

--
-- Drop table `promotion`
--
DROP TABLE IF EXISTS promotion;

--
-- Drop table `lookup_value`
--
DROP TABLE IF EXISTS lookup_value;

--
-- Drop table `lookup_type`
--
DROP TABLE IF EXISTS lookup_type;

--
-- Drop table `service_error_category`
--
DROP TABLE IF EXISTS service_error_category;

--
-- Drop table `i18n_text`
--
DROP TABLE IF EXISTS i18n_text;

--
-- Drop table `i18n_language`
--
DROP TABLE IF EXISTS i18n_language;

--
-- Set default database
--
USE restaurant_mgmt;

--
-- Create table `i18n_language`
--
CREATE TABLE i18n_language (
  lang_code varchar(10) NOT NULL,
  lang_name varchar(50) NOT NULL,
  is_active tinyint(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (lang_code)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `i18n_text`
--
CREATE TABLE i18n_text (
  text_id bigint NOT NULL AUTO_INCREMENT,
  text_key varchar(200) NOT NULL,
  source_lang_code varchar(10) NOT NULL DEFAULT 'en',
  source_text text NOT NULL,
  context varchar(255) DEFAULT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  updated_at datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (text_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 126,
AVG_ROW_LENGTH = 172,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_i18n_text_source_lang` on table `i18n_text`
--
ALTER TABLE i18n_text
ADD INDEX idx_i18n_text_source_lang (source_lang_code);

--
-- Create index `uq_i18n_text_key` on table `i18n_text`
--
ALTER TABLE i18n_text
ADD UNIQUE INDEX uq_i18n_text_key (text_key);

--
-- Create foreign key
--
ALTER TABLE i18n_text
ADD CONSTRAINT fk_i18n_text_lang FOREIGN KEY (source_lang_code)
REFERENCES i18n_language (lang_code);

--
-- Create table `service_error_category`
--
CREATE TABLE service_error_category (
  category_id bigint NOT NULL AUTO_INCREMENT,
  category_code varchar(50) NOT NULL,
  category_name varchar(150) NOT NULL,
  description varchar(255) DEFAULT NULL,
  category_name_text_id bigint DEFAULT NULL,
  category_desc_text_id bigint DEFAULT NULL,
  PRIMARY KEY (category_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `category_code` on table `service_error_category`
--
ALTER TABLE service_error_category
ADD UNIQUE INDEX category_code (category_code);

--
-- Create foreign key
--
ALTER TABLE service_error_category
ADD CONSTRAINT fk_sec_desc_text FOREIGN KEY (category_desc_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE service_error_category
ADD CONSTRAINT fk_sec_name_text FOREIGN KEY (category_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create table `lookup_type`
--
CREATE TABLE lookup_type (
  type_id smallint UNSIGNED NOT NULL AUTO_INCREMENT,
  type_code varchar(50) NOT NULL,
  type_name varchar(150) NOT NULL,
  description varchar(255) DEFAULT NULL,
  is_configurable tinyint(1) NOT NULL DEFAULT 0 COMMENT '1 = admin can add/remove values, 0 = controlled enum (statuses, workflows)',
  is_system tinyint(1) NOT NULL DEFAULT 1 COMMENT '1 = system-defined enum type, 0 = user-defined/custom type',
  type_name_text_id bigint DEFAULT NULL,
  type_desc_text_id bigint DEFAULT NULL,
  PRIMARY KEY (type_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 18,
AVG_ROW_LENGTH = 963,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `uq_lookup_type_code` on table `lookup_type`
--
ALTER TABLE lookup_type
ADD UNIQUE INDEX uq_lookup_type_code (type_code);

--
-- Create foreign key
--
ALTER TABLE lookup_type
ADD CONSTRAINT fk_lookup_type_desc_text FOREIGN KEY (type_desc_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE lookup_type
ADD CONSTRAINT fk_lookup_type_name_text FOREIGN KEY (type_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create table `lookup_value`
--
CREATE TABLE lookup_value (
  value_id int UNSIGNED NOT NULL AUTO_INCREMENT,
  type_id smallint UNSIGNED NOT NULL,
  value_code varchar(50) NOT NULL,
  value_name varchar(150) NOT NULL,
  sort_order smallint NOT NULL DEFAULT 0,
  is_active tinyint(1) NOT NULL DEFAULT 1,
  meta json DEFAULT NULL,
  is_system tinyint(1) NOT NULL DEFAULT 1 COMMENT '1 = system/seeded value, 0 = user-added value',
  locked tinyint(1) NOT NULL DEFAULT 1 COMMENT '1 = value_code cannot be changed and value cannot be deleted',
  deleted_at datetime DEFAULT NULL COMMENT 'Soft delete timestamp; never hard delete lookup values',
  description text DEFAULT NULL,
  update_at datetime DEFAULT NULL,
  value_name_text_id bigint DEFAULT NULL,
  value_desc_text_id bigint DEFAULT NULL,
  PRIMARY KEY (value_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 88,
AVG_ROW_LENGTH = 268,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_lookup_value_type_active` on table `lookup_value`
--
ALTER TABLE lookup_value
ADD INDEX idx_lookup_value_type_active (type_id, is_active, sort_order);

--
-- Create index `uq_lookup_value` on table `lookup_value`
--
ALTER TABLE lookup_value
ADD UNIQUE INDEX uq_lookup_value (type_id, value_code);

--
-- Create foreign key
--
ALTER TABLE lookup_value
ADD CONSTRAINT fk_lookup_value_desc_text FOREIGN KEY (value_desc_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE lookup_value
ADD CONSTRAINT fk_lookup_value_name_text FOREIGN KEY (value_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE lookup_value
ADD CONSTRAINT fk_lookup_value_type FOREIGN KEY (type_id)
REFERENCES lookup_type (type_id);

--
-- Create table `promotion`
--
CREATE TABLE promotion (
  promotion_id bigint NOT NULL AUTO_INCREMENT,
  promo_code varchar(50) DEFAULT NULL,
  promo_name varchar(200) NOT NULL,
  description varchar(255) DEFAULT NULL,
  start_time datetime NOT NULL,
  end_time datetime NOT NULL,
  max_usage int DEFAULT NULL,
  used_count int DEFAULT 0,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  type_lv_id int UNSIGNED NOT NULL,
  promotion_status_lv_id int UNSIGNED NOT NULL,
  promo_name_text_id bigint DEFAULT NULL,
  promo_desc_text_id bigint DEFAULT NULL,
  PRIMARY KEY (promotion_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_promotion_status_lv` on table `promotion`
--
ALTER TABLE promotion
ADD INDEX idx_promotion_status_lv (promotion_status_lv_id);

--
-- Create index `idx_promotion_type_lv` on table `promotion`
--
ALTER TABLE promotion
ADD INDEX idx_promotion_type_lv (type_lv_id);

--
-- Create index `promo_code` on table `promotion`
--
ALTER TABLE promotion
ADD UNIQUE INDEX promo_code (promo_code);

--
-- Create foreign key
--
ALTER TABLE promotion
ADD CONSTRAINT fk_promo_desc_text FOREIGN KEY (promo_desc_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE promotion
ADD CONSTRAINT fk_promo_name_text FOREIGN KEY (promo_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE promotion
ADD CONSTRAINT fk_promotion_status_lv FOREIGN KEY (promotion_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE promotion
ADD CONSTRAINT fk_promotion_type_lv FOREIGN KEY (type_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `media_asset`
--
CREATE TABLE media_asset (
  media_id bigint NOT NULL AUTO_INCREMENT,
  url varchar(500) NOT NULL,
  mime_type varchar(100) DEFAULT NULL,
  width int DEFAULT NULL,
  height int DEFAULT NULL,
  duration_sec int DEFAULT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  media_type_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (media_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_media_asset_type_lv` on table `media_asset`
--
ALTER TABLE media_asset
ADD INDEX idx_media_asset_type_lv (media_type_lv_id);

--
-- Create foreign key
--
ALTER TABLE media_asset
ADD CONSTRAINT fk_media_asset_type_lv FOREIGN KEY (media_type_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `restaurant_table`
--
CREATE TABLE restaurant_table (
  table_id bigint NOT NULL AUTO_INCREMENT,
  table_code varchar(50) NOT NULL,
  capacity int NOT NULL,
  table_qr_img bigint DEFAULT NULL,
  table_status_lv_id int UNSIGNED NOT NULL,
  table_type_lv_id int UNSIGNED NOT NULL,
  isOnline tinyint(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (table_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_restaurant_table_status_lv` on table `restaurant_table`
--
ALTER TABLE restaurant_table
ADD INDEX idx_restaurant_table_status_lv (table_status_lv_id);

--
-- Create index `idx_restaurant_table_type_lv` on table `restaurant_table`
--
ALTER TABLE restaurant_table
ADD INDEX idx_restaurant_table_type_lv (table_type_lv_id);

--
-- Create index `table_code` on table `restaurant_table`
--
ALTER TABLE restaurant_table
ADD UNIQUE INDEX table_code (table_code);

--
-- Create foreign key
--
ALTER TABLE restaurant_table
ADD CONSTRAINT fk_restaurant_table_status_lv FOREIGN KEY (table_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE restaurant_table
ADD CONSTRAINT FK_restaurant_table_table_qr_img FOREIGN KEY (table_qr_img)
REFERENCES media_asset (media_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE restaurant_table
ADD CONSTRAINT fk_restaurant_table_type_lv FOREIGN KEY (table_type_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `table_media`
--
CREATE TABLE table_media (
  table_id bigint NOT NULL,
  media_id bigint NOT NULL,
  is_primary tinyint(1) DEFAULT 0,
  PRIMARY KEY (table_id, media_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE table_media
ADD CONSTRAINT table_media_ibfk_1 FOREIGN KEY (table_id)
REFERENCES restaurant_table (table_id);

--
-- Create foreign key
--
ALTER TABLE table_media
ADD CONSTRAINT table_media_ibfk_2 FOREIGN KEY (media_id)
REFERENCES media_asset (media_id);

--
-- Create table `ingredient`
--
CREATE TABLE ingredient (
  ingredient_id bigint NOT NULL AUTO_INCREMENT,
  ingredient_name varchar(200) NOT NULL,
  unit varchar(20) NOT NULL,
  type_lv_id int UNSIGNED DEFAULT NULL,
  ingredient_name_text_id bigint DEFAULT NULL,
  PRIMARY KEY (ingredient_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE ingredient
ADD CONSTRAINT fk_ingredient_name_text FOREIGN KEY (ingredient_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE ingredient
ADD CONSTRAINT FK_ingredient_type_lv_id FOREIGN KEY (type_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `current_stock`
--
CREATE TABLE current_stock (
  ingredient_id bigint NOT NULL,
  quantity_on_hand decimal(14, 3) NOT NULL DEFAULT 0.000,
  last_updated_at datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (ingredient_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE current_stock
ADD CONSTRAINT fk_current_stock_ingredient FOREIGN KEY (ingredient_id)
REFERENCES ingredient (ingredient_id);

--
-- Create table `i18n_translation`
--
CREATE TABLE i18n_translation (
  text_id bigint NOT NULL,
  lang_code varchar(10) NOT NULL,
  translated_text text NOT NULL,
  updated_at datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (text_id, lang_code)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE i18n_translation
ADD CONSTRAINT fk_i18n_tr_lang FOREIGN KEY (lang_code)
REFERENCES i18n_language (lang_code);

--
-- Create foreign key
--
ALTER TABLE i18n_translation
ADD CONSTRAINT fk_i18n_tr_text FOREIGN KEY (text_id)
REFERENCES i18n_text (text_id) ON DELETE CASCADE;

--
-- Create table `dish_category`
--
CREATE TABLE dish_category (
  category_id bigint NOT NULL AUTO_INCREMENT,
  category_name varchar(100) NOT NULL,
  category_name_text_id bigint DEFAULT NULL,
  PRIMARY KEY (category_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE dish_category
ADD CONSTRAINT fk_cat_name_text FOREIGN KEY (category_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create table `dish`
--
CREATE TABLE dish (
  dish_id bigint NOT NULL AUTO_INCREMENT,
  category_id bigint NOT NULL,
  dish_name varchar(200) NOT NULL,
  price decimal(12, 2) NOT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  dish_status_lv_id int UNSIGNED NOT NULL,
  description text DEFAULT NULL,
  slogan varchar(250) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,
  note varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,
  calories int DEFAULT NULL,
  short_description varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,
  display_order tinyint DEFAULT NULL,
  chef_recommended tinyint(1) DEFAULT NULL,
  prep_time_minutes int DEFAULT NULL,
  cook_time_minutes int DEFAULT NULL,
  isOnline tinyint(1) NOT NULL DEFAULT 1,
  description_text_id bigint DEFAULT NULL,
  slogan_text_id bigint DEFAULT NULL,
  note_text_id bigint DEFAULT NULL,
  short_description_text_id bigint DEFAULT NULL,
  dish_name_text_id bigint NOT NULL,
  PRIMARY KEY (dish_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_dish_status_lv` on table `dish`
--
ALTER TABLE dish
ADD INDEX idx_dish_status_lv (dish_status_lv_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT dish_ibfk_1 FOREIGN KEY (category_id)
REFERENCES dish_category (category_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_desc_text FOREIGN KEY (description_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_name_text FOREIGN KEY (dish_name_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_note_text FOREIGN KEY (note_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_short_desc_text FOREIGN KEY (short_description_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_slogan_text FOREIGN KEY (slogan_text_id)
REFERENCES i18n_text (text_id);

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT fk_dish_status_lv FOREIGN KEY (dish_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `recipe`
--
CREATE TABLE recipe (
  dish_id bigint NOT NULL,
  ingredient_id bigint NOT NULL,
  quantity decimal(12, 3) NOT NULL,
  unit varchar(20) NOT NULL,
  note varchar(255) DEFAULT NULL,
  PRIMARY KEY (dish_id, ingredient_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_recipe_ingredient` on table `recipe`
--
ALTER TABLE recipe
ADD INDEX idx_recipe_ingredient (ingredient_id);

--
-- Create foreign key
--
ALTER TABLE recipe
ADD CONSTRAINT fk_recipe_dish FOREIGN KEY (dish_id)
REFERENCES dish (dish_id);

--
-- Create foreign key
--
ALTER TABLE recipe
ADD CONSTRAINT fk_recipe_ingredient FOREIGN KEY (ingredient_id)
REFERENCES ingredient (ingredient_id);

--
-- Create table `promotion_target`
--
CREATE TABLE promotion_target (
  target_id bigint NOT NULL AUTO_INCREMENT,
  promotion_id bigint NOT NULL,
  dish_id bigint DEFAULT NULL,
  category_id bigint DEFAULT NULL,
  PRIMARY KEY (target_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE promotion_target
ADD CONSTRAINT promotion_target_ibfk_1 FOREIGN KEY (promotion_id)
REFERENCES promotion (promotion_id);

--
-- Create foreign key
--
ALTER TABLE promotion_target
ADD CONSTRAINT promotion_target_ibfk_2 FOREIGN KEY (dish_id)
REFERENCES dish (dish_id);

--
-- Create foreign key
--
ALTER TABLE promotion_target
ADD CONSTRAINT promotion_target_ibfk_3 FOREIGN KEY (category_id)
REFERENCES dish_category (category_id);

--
-- Create table `promotion_rule`
--
CREATE TABLE promotion_rule (
  rule_id bigint NOT NULL AUTO_INCREMENT,
  promotion_id bigint NOT NULL,
  min_order_value decimal(14, 2) DEFAULT NULL,
  min_quantity int DEFAULT NULL,
  required_dish_id bigint DEFAULT NULL,
  required_category_id bigint DEFAULT NULL,
  PRIMARY KEY (rule_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE promotion_rule
ADD CONSTRAINT promotion_rule_ibfk_1 FOREIGN KEY (promotion_id)
REFERENCES promotion (promotion_id);

--
-- Create foreign key
--
ALTER TABLE promotion_rule
ADD CONSTRAINT promotion_rule_ibfk_2 FOREIGN KEY (required_dish_id)
REFERENCES dish (dish_id);

--
-- Create foreign key
--
ALTER TABLE promotion_rule
ADD CONSTRAINT promotion_rule_ibfk_3 FOREIGN KEY (required_category_id)
REFERENCES dish_category (category_id);

--
-- Create table `dish_media`
--
CREATE TABLE dish_media (
  dish_id bigint NOT NULL,
  media_id bigint NOT NULL,
  is_primary tinyint(1) DEFAULT 0,
  PRIMARY KEY (dish_id, media_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE dish_media
ADD CONSTRAINT dish_media_ibfk_1 FOREIGN KEY (dish_id)
REFERENCES dish (dish_id);

--
-- Create foreign key
--
ALTER TABLE dish_media
ADD CONSTRAINT dish_media_ibfk_2 FOREIGN KEY (media_id)
REFERENCES media_asset (media_id);

--
-- Create table `role`
--
CREATE TABLE role (
  role_id bigint NOT NULL AUTO_INCREMENT,
  role_code varchar(50) NOT NULL,
  role_name varchar(100) NOT NULL,
  PRIMARY KEY (role_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `role_code` on table `role`
--
ALTER TABLE role
ADD UNIQUE INDEX role_code (role_code);

--
-- Create table `staff_account`
--
CREATE TABLE staff_account (
  account_id bigint NOT NULL AUTO_INCREMENT,
  full_name varchar(150) NOT NULL,
  phone varchar(30) DEFAULT NULL,
  email varchar(150) DEFAULT NULL,
  role_id bigint NOT NULL,
  created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  username varchar(100) NOT NULL,
  password_hash varchar(255) NOT NULL,
  is_locked tinyint(1) NOT NULL DEFAULT 0,
  last_login_at datetime DEFAULT NULL,
  account_status_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (account_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `email` on table `staff_account`
--
ALTER TABLE staff_account
ADD UNIQUE INDEX email (email);

--
-- Create index `idx_staff_account_status_lv` on table `staff_account`
--
ALTER TABLE staff_account
ADD INDEX idx_staff_account_status_lv (account_status_lv_id);

--
-- Create index `username` on table `staff_account`
--
ALTER TABLE staff_account
ADD UNIQUE INDEX username (username);

--
-- Create foreign key
--
ALTER TABLE staff_account
ADD CONSTRAINT staff_account_ibfk_1 FOREIGN KEY (role_id)
REFERENCES role (role_id);

--
-- Create table `system_setting`
--
CREATE TABLE system_setting (
  setting_id int UNSIGNED NOT NULL AUTO_INCREMENT,
  setting_key varchar(100) NOT NULL,
  value_type enum ('STRING', 'INT', 'DECIMAL', 'BOOL', 'JSON', 'DATETIME') NOT NULL,
  value_string varchar(500) DEFAULT NULL,
  value_int bigint DEFAULT NULL,
  value_decimal decimal(18, 6) DEFAULT NULL,
  value_bool tinyint(1) DEFAULT NULL,
  value_json json DEFAULT NULL,
  description varchar(255) DEFAULT NULL,
  is_sensitive tinyint(1) NOT NULL DEFAULT 0,
  updated_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  updated_by bigint DEFAULT NULL,
  PRIMARY KEY (setting_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 2,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `uq_setting_key` on table `system_setting`
--
ALTER TABLE system_setting
ADD UNIQUE INDEX uq_setting_key (setting_key);

--
-- Create foreign key
--
ALTER TABLE system_setting
ADD CONSTRAINT fk_setting_updated_by FOREIGN KEY (updated_by)
REFERENCES staff_account (account_id);

--
-- Create table `auth_session`
--
CREATE TABLE auth_session (
  session_id bigint NOT NULL AUTO_INCREMENT,
  user_id bigint NOT NULL,
  token_hash varchar(255) NOT NULL,
  expires_at datetime NOT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  revoked tinyint(1) DEFAULT 0,
  device_info varchar(500) DEFAULT NULL,
  ip_address varchar(45) DEFAULT NULL,
  PRIMARY KEY (session_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 9,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_session_user` on table `auth_session`
--
ALTER TABLE auth_session
ADD INDEX idx_session_user (user_id, expires_at);

--
-- Create foreign key
--
ALTER TABLE auth_session
ADD CONSTRAINT auth_session_ibfk_1 FOREIGN KEY (user_id)
REFERENCES staff_account (account_id);

--
-- Create table `audit_log`
--
CREATE TABLE audit_log (
  log_id bigint NOT NULL AUTO_INCREMENT,
  staff_id bigint DEFAULT NULL,
  action_code varchar(100) DEFAULT NULL,
  target_table varchar(100) DEFAULT NULL,
  target_id bigint DEFAULT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (log_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_audit_time` on table `audit_log`
--
ALTER TABLE audit_log
ADD INDEX idx_audit_time (created_at);

--
-- Create foreign key
--
ALTER TABLE audit_log
ADD CONSTRAINT audit_log_ibfk_1 FOREIGN KEY (staff_id)
REFERENCES staff_account (account_id);

--
-- Create table `customer`
--
CREATE TABLE customer (
  customer_id bigint NOT NULL AUTO_INCREMENT,
  full_name varchar(150) DEFAULT NULL,
  phone varchar(30) NOT NULL,
  email varchar(150) DEFAULT NULL,
  is_member tinyint(1) DEFAULT 0,
  loyalty_points int DEFAULT 0,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (customer_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `phone` on table `customer`
--
ALTER TABLE customer
ADD UNIQUE INDEX phone (phone);

--
-- Create table `reservation`
--
CREATE TABLE reservation (
  reservation_id bigint NOT NULL AUTO_INCREMENT,
  customer_id bigint DEFAULT NULL,
  customer_name varchar(150) NOT NULL,
  phone varchar(30) NOT NULL,
  email varchar(150) DEFAULT NULL,
  party_size int NOT NULL,
  reserved_time datetime NOT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  source_lv_id int UNSIGNED NOT NULL,
  reservation_status_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (reservation_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_reservation_source_lv` on table `reservation`
--
ALTER TABLE reservation
ADD INDEX idx_reservation_source_lv (source_lv_id);

--
-- Create index `idx_reservation_status_lv` on table `reservation`
--
ALTER TABLE reservation
ADD INDEX idx_reservation_status_lv (reservation_status_lv_id);

--
-- Create index `idx_reservation_time` on table `reservation`
--
ALTER TABLE reservation
ADD INDEX idx_reservation_time (reserved_time);

--
-- Create foreign key
--
ALTER TABLE reservation
ADD CONSTRAINT fk_reservation_source_lv FOREIGN KEY (source_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE reservation
ADD CONSTRAINT fk_reservation_status_lv FOREIGN KEY (reservation_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE reservation
ADD CONSTRAINT reservation_ibfk_1 FOREIGN KEY (customer_id)
REFERENCES customer (customer_id);

--
-- Create table `reservation_table`
--
CREATE TABLE reservation_table (
  reservation_id bigint NOT NULL,
  table_id bigint NOT NULL,
  PRIMARY KEY (reservation_id, table_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE reservation_table
ADD CONSTRAINT reservation_table_ibfk_1 FOREIGN KEY (reservation_id)
REFERENCES reservation (reservation_id);

--
-- Create foreign key
--
ALTER TABLE reservation_table
ADD CONSTRAINT reservation_table_ibfk_2 FOREIGN KEY (table_id)
REFERENCES restaurant_table (table_id);

--
-- Create table `orders`
--
CREATE TABLE orders (
  order_id bigint NOT NULL AUTO_INCREMENT,
  table_id bigint NOT NULL,
  staff_id bigint NOT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  customer_id bigint NOT NULL,
  updated_at datetime DEFAULT NULL,
  total_amount decimal(14, 2) NOT NULL,
  tip_amount decimal(14, 2) DEFAULT NULL,
  source_lv_id int UNSIGNED NOT NULL,
  order_status_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (order_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_order_status` on table `orders`
--
ALTER TABLE orders
ADD INDEX idx_order_status (created_at);

--
-- Create index `idx_orders_source_lv` on table `orders`
--
ALTER TABLE orders
ADD INDEX idx_orders_source_lv (source_lv_id);

--
-- Create index `idx_orders_status_lv` on table `orders`
--
ALTER TABLE orders
ADD INDEX idx_orders_status_lv (order_status_lv_id);

--
-- Create foreign key
--
ALTER TABLE orders
ADD CONSTRAINT FK_orders_customer_id FOREIGN KEY (customer_id)
REFERENCES customer (customer_id);

--
-- Create foreign key
--
ALTER TABLE orders
ADD CONSTRAINT fk_orders_source_lv FOREIGN KEY (source_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE orders
ADD CONSTRAINT fk_orders_status_lv FOREIGN KEY (order_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE orders
ADD CONSTRAINT orders_ibfk_1 FOREIGN KEY (table_id)
REFERENCES restaurant_table (table_id);

--
-- Create foreign key
--
ALTER TABLE orders
ADD CONSTRAINT orders_ibfk_2 FOREIGN KEY (staff_id)
REFERENCES staff_account (account_id);

--
-- Create table `payment`
--
CREATE TABLE payment (
  payment_id bigint NOT NULL AUTO_INCREMENT,
  order_id bigint NOT NULL,
  received_amount decimal(14, 2) NOT NULL,
  change_amount decimal(14, 2) NOT NULL,
  paid_at datetime DEFAULT CURRENT_TIMESTAMP,
  method_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (payment_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_payment_method_lv` on table `payment`
--
ALTER TABLE payment
ADD INDEX idx_payment_method_lv (method_lv_id);

--
-- Create foreign key
--
ALTER TABLE payment
ADD CONSTRAINT fk_payment_method_lv FOREIGN KEY (method_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE payment
ADD CONSTRAINT payment_ibfk_1 FOREIGN KEY (order_id)
REFERENCES orders (order_id);

--
-- Create table `order_promotion`
--
CREATE TABLE order_promotion (
  order_promotion_id bigint NOT NULL AUTO_INCREMENT,
  order_id bigint NOT NULL,
  promotion_id bigint NOT NULL,
  discount_amount decimal(14, 2) NOT NULL,
  applied_at datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (order_promotion_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_invoice_promo_promo` on table `order_promotion`
--
ALTER TABLE order_promotion
ADD INDEX idx_invoice_promo_promo (promotion_id);

--
-- Create index `uq_invoice_promo` on table `order_promotion`
--
ALTER TABLE order_promotion
ADD UNIQUE INDEX uq_invoice_promo (order_id, promotion_id);

--
-- Create foreign key
--
ALTER TABLE order_promotion
ADD CONSTRAINT FK_invoice_promotion_order_id FOREIGN KEY (order_id)
REFERENCES orders (order_id);

--
-- Create foreign key
--
ALTER TABLE order_promotion
ADD CONSTRAINT order_promotion_ibfk_2 FOREIGN KEY (promotion_id)
REFERENCES promotion (promotion_id);

--
-- Create table `order_item`
--
CREATE TABLE order_item (
  order_item_id bigint NOT NULL AUTO_INCREMENT,
  order_id bigint NOT NULL,
  dish_id bigint NOT NULL,
  quantity int NOT NULL,
  price decimal(12, 2) NOT NULL,
  item_status tinyint UNSIGNED NOT NULL DEFAULT 1 COMMENT 'OrderItemStatus: 1=CREATED,2=IN_PROGRESS,3=READY,4=SERVED,5=REJECTED',
  reject_reason varchar(255) DEFAULT NULL,
  item_status_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (order_item_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_order_item_status_lv` on table `order_item`
--
ALTER TABLE order_item
ADD INDEX idx_order_item_status_lv (item_status_lv_id);

--
-- Create foreign key
--
ALTER TABLE order_item
ADD CONSTRAINT fk_order_item_status_lv FOREIGN KEY (item_status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE order_item
ADD CONSTRAINT order_item_ibfk_1 FOREIGN KEY (order_id)
REFERENCES orders (order_id);

--
-- Create foreign key
--
ALTER TABLE order_item
ADD CONSTRAINT order_item_ibfk_2 FOREIGN KEY (dish_id)
REFERENCES dish (dish_id);

--
-- Create table `service_error`
--
CREATE TABLE service_error (
  error_id bigint NOT NULL AUTO_INCREMENT,
  staff_id bigint NOT NULL,
  order_id bigint DEFAULT NULL,
  order_item_id bigint DEFAULT NULL,
  table_id bigint DEFAULT NULL,
  category_id bigint NOT NULL,
  description varchar(500) NOT NULL,
  penalty_amount decimal(12, 2) DEFAULT 0.00,
  is_resolved tinyint(1) DEFAULT 0,
  resolved_by bigint DEFAULT NULL,
  resolved_at datetime DEFAULT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  severity_lv_id int UNSIGNED NOT NULL,
  PRIMARY KEY (error_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_service_error_order` on table `service_error`
--
ALTER TABLE service_error
ADD INDEX idx_service_error_order (order_id);

--
-- Create index `idx_service_error_severity_lv` on table `service_error`
--
ALTER TABLE service_error
ADD INDEX idx_service_error_severity_lv (severity_lv_id);

--
-- Create index `idx_service_error_staff` on table `service_error`
--
ALTER TABLE service_error
ADD INDEX idx_service_error_staff (staff_id, created_at);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT fk_service_error_severity_lv FOREIGN KEY (severity_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_1 FOREIGN KEY (staff_id)
REFERENCES staff_account (account_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_2 FOREIGN KEY (order_id)
REFERENCES orders (order_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_3 FOREIGN KEY (order_item_id)
REFERENCES order_item (order_item_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_4 FOREIGN KEY (table_id)
REFERENCES restaurant_table (table_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_5 FOREIGN KEY (category_id)
REFERENCES service_error_category (category_id);

--
-- Create foreign key
--
ALTER TABLE service_error
ADD CONSTRAINT service_error_ibfk_7 FOREIGN KEY (resolved_by)
REFERENCES staff_account (account_id);

--
-- Create table `supplier`
--
CREATE TABLE supplier (
  supplier_id bigint NOT NULL AUTO_INCREMENT,
  supplier_name varchar(200) NOT NULL,
  phone varchar(50) DEFAULT NULL,
  email varchar(150) DEFAULT NULL,
  PRIMARY KEY (supplier_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `inventory_transaction`
--
CREATE TABLE inventory_transaction (
  transaction_id bigint NOT NULL AUTO_INCREMENT,
  created_by bigint DEFAULT NULL,
  created_at datetime DEFAULT CURRENT_TIMESTAMP,
  note varchar(255) DEFAULT NULL,
  type_lv_id int UNSIGNED NOT NULL,
  status_lv_id int UNSIGNED NOT NULL,
  supplier_id bigint DEFAULT NULL,
  PRIMARY KEY (transaction_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_inventory_transaction_dir_time` on table `inventory_transaction`
--
ALTER TABLE inventory_transaction
ADD INDEX idx_inventory_transaction_dir_time (created_at);

--
-- Create index `idx_inventory_transaction_time` on table `inventory_transaction`
--
ALTER TABLE inventory_transaction
ADD INDEX idx_inventory_transaction_time (created_at);

--
-- Create index `idx_inventory_tx_status_lv` on table `inventory_transaction`
--
ALTER TABLE inventory_transaction
ADD INDEX idx_inventory_tx_status_lv (status_lv_id);

--
-- Create index `idx_inventory_tx_type_lv` on table `inventory_transaction`
--
ALTER TABLE inventory_transaction
ADD INDEX idx_inventory_tx_type_lv (type_lv_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction
ADD CONSTRAINT fk_inventory_transaction_staff FOREIGN KEY (created_by)
REFERENCES staff_account (account_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction
ADD CONSTRAINT FK_inventory_transaction_supplier_supplier_id FOREIGN KEY (supplier_id)
REFERENCES supplier (supplier_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction
ADD CONSTRAINT fk_inventory_tx_status_lv FOREIGN KEY (status_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction
ADD CONSTRAINT fk_inventory_tx_type_lv FOREIGN KEY (type_lv_id)
REFERENCES lookup_value (value_id);

--
-- Create table `inventory_transaction_media`
--
CREATE TABLE inventory_transaction_media (
  transaction_id bigint NOT NULL,
  media_id bigint NOT NULL,
  is_primary tinyint(1) DEFAULT 0,
  PRIMARY KEY (transaction_id, media_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_inventory_transaction_media_media` on table `inventory_transaction_media`
--
ALTER TABLE inventory_transaction_media
ADD INDEX idx_inventory_transaction_media_media (media_id);

--
-- Create index `idx_inventory_transaction_media_primary` on table `inventory_transaction_media`
--
ALTER TABLE inventory_transaction_media
ADD INDEX idx_inventory_transaction_media_primary (transaction_id, is_primary);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction_media
ADD CONSTRAINT fk_inventory_transaction_media_asset FOREIGN KEY (media_id)
REFERENCES media_asset (media_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE inventory_transaction_media
ADD CONSTRAINT fk_inventory_transaction_media_transaction FOREIGN KEY (transaction_id)
REFERENCES inventory_transaction (transaction_id) ON DELETE CASCADE;

--
-- Create table `inventory_transaction_item`
--
CREATE TABLE inventory_transaction_item (
  transaction_item_id bigint NOT NULL AUTO_INCREMENT,
  transaction_id bigint NOT NULL,
  ingredient_id bigint NOT NULL,
  quantity decimal(14, 3) NOT NULL,
  unit varchar(20) NOT NULL,
  note varchar(255) DEFAULT NULL,
  PRIMARY KEY (transaction_item_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create index `idx_inventory_transaction_item_ingredient` on table `inventory_transaction_item`
--
ALTER TABLE inventory_transaction_item
ADD INDEX idx_inventory_transaction_item_ingredient (ingredient_id);

--
-- Create index `idx_inventory_transaction_item_transaction` on table `inventory_transaction_item`
--
ALTER TABLE inventory_transaction_item
ADD INDEX idx_inventory_transaction_item_transaction (transaction_id);

--
-- Create index `uq_inventory_transaction_item` on table `inventory_transaction_item`
--
ALTER TABLE inventory_transaction_item
ADD UNIQUE INDEX uq_inventory_transaction_item (transaction_id, ingredient_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction_item
ADD CONSTRAINT fk_inventory_transaction_item_ingredient FOREIGN KEY (ingredient_id)
REFERENCES ingredient (ingredient_id);

--
-- Create foreign key
--
ALTER TABLE inventory_transaction_item
ADD CONSTRAINT fk_inventory_transaction_item_transaction FOREIGN KEY (transaction_id)
REFERENCES inventory_transaction (transaction_id) ON DELETE CASCADE;

--
-- Create table `ingredient_supplier`
--
CREATE TABLE ingredient_supplier (
  ingredient_supplier_id bigint NOT NULL,
  supplier_id bigint DEFAULT NULL,
  ingredient_id bigint DEFAULT NULL,
  created_at datetime DEFAULT NULL,
  PRIMARY KEY (ingredient_supplier_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE ingredient_supplier
ADD CONSTRAINT FK_ingredient_supplier_ingredient_ingredient_id FOREIGN KEY (ingredient_id)
REFERENCES ingredient (ingredient_id);

--
-- Create foreign key
--
ALTER TABLE ingredient_supplier
ADD CONSTRAINT FK_ingredient_supplier_supplier_supplier_id FOREIGN KEY (supplier_id)
REFERENCES supplier (supplier_id);

--
-- Create table `permission`
--
CREATE TABLE permission (
  permission_id bigint NOT NULL AUTO_INCREMENT,
  screen_code varchar(100) NOT NULL,
  action_code varchar(20) NOT NULL,
  PRIMARY KEY (permission_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create table `role_permission`
--
CREATE TABLE role_permission (
  role_id bigint NOT NULL,
  permission_id bigint NOT NULL,
  PRIMARY KEY (role_id, permission_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE role_permission
ADD CONSTRAINT role_permission_ibfk_1 FOREIGN KEY (role_id)
REFERENCES role (role_id);

--
-- Create foreign key
--
ALTER TABLE role_permission
ADD CONSTRAINT role_permission_ibfk_2 FOREIGN KEY (permission_id)
REFERENCES permission (permission_id);

-- 
-- Dumping data for table i18n_language
--
INSERT INTO i18n_language(lang_code, lang_name, is_active) VALUES
('en', 'English', 1),
('fr', 'French', 1),
('vi', 'Vietnamese', 1);

-- 
-- Dumping data for table i18n_text
--
INSERT INTO i18n_text(text_id, text_key, source_lang_code, source_text, context, created_at, updated_at) VALUES
(1, 'lookup_type.type_name.1', 'en', 'Account Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(2, 'lookup_type.type_name.2', 'en', 'Inventory Transaction Type', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(3, 'lookup_type.type_name.3', 'en', 'Inventory Transaction Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(4, 'lookup_type.type_name.4', 'en', 'Media Type', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(5, 'lookup_type.type_name.5', 'en', 'Table Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(6, 'lookup_type.type_name.6', 'en', 'Table Type', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(7, 'lookup_type.type_name.7', 'en', 'Reservation Source', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(8, 'lookup_type.type_name.8', 'en', 'Reservation Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(9, 'lookup_type.type_name.9', 'en', 'Order Source', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(10, 'lookup_type.type_name.10', 'en', 'Order Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(11, 'lookup_type.type_name.11', 'en', 'Payment Method', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(12, 'lookup_type.type_name.12', 'en', 'Dish Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(13, 'lookup_type.type_name.13', 'en', 'Order Item Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(14, 'lookup_type.type_name.14', 'en', 'Severity', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(15, 'lookup_type.type_name.15', 'en', 'Promotion Type', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(16, 'lookup_type.type_name.16', 'en', 'Promotion Status', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(17, 'lookup_type.type_name.17', 'en', 'Ingredient Type', 'lookup type name', '2026-02-02 23:19:22', '2026-02-02 23:19:22'),
(32, 'lookup_type.description.1', 'en', 'staff_account.account_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(33, 'lookup_type.description.2', 'en', 'inventory_transaction.type', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(34, 'lookup_type.description.3', 'en', 'inventory_transaction.status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(35, 'lookup_type.description.4', 'en', 'media_asset.media_type_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(36, 'lookup_type.description.5', 'en', 'restaurant_table.table_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(37, 'lookup_type.description.6', 'en', 'restaurant_table.table_type', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(38, 'lookup_type.description.7', 'en', 'reservation.source_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(39, 'lookup_type.description.8', 'en', 'reservation.reservation_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(40, 'lookup_type.description.9', 'en', 'orders.source_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(41, 'lookup_type.description.10', 'en', 'orders.order_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(42, 'lookup_type.description.11', 'en', 'payment.method_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(43, 'lookup_type.description.12', 'en', 'dish.dish_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(44, 'lookup_type.description.13', 'en', 'order_item.item_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(45, 'lookup_type.description.14', 'en', 'service_error.severity_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(46, 'lookup_type.description.15', 'en', 'promotion.type_id', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(47, 'lookup_type.description.16', 'en', 'promotion.promotion_status', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(48, 'lookup_type.description.17', 'en', 'ingredient.type', 'lookup type description', '2026-02-02 23:19:45', '2026-02-02 23:19:45'),
(63, 'lookup_value.value_name.1', 'en', 'Active', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(64, 'lookup_value.value_name.2', 'en', 'Inactive', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(65, 'lookup_value.value_name.3', 'en', 'Locked', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(66, 'lookup_value.value_name.4', 'en', 'In', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(67, 'lookup_value.value_name.5', 'en', 'Out', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(68, 'lookup_value.value_name.6', 'en', 'Adjust', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(69, 'lookup_value.value_name.7', 'en', 'Draft', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(70, 'lookup_value.value_name.8', 'en', 'Pending approval', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(71, 'lookup_value.value_name.9', 'en', 'Completed', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(72, 'lookup_value.value_name.10', 'en', 'Cancelled', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(73, 'lookup_value.value_name.14', 'en', 'Available', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(74, 'lookup_value.value_name.15', 'en', 'Occupied', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(75, 'lookup_value.value_name.16', 'en', 'Reserved', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(76, 'lookup_value.value_name.17', 'en', 'Locked', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(77, 'lookup_value.value_name.21', 'en', 'Pending', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(78, 'lookup_value.value_name.22', 'en', 'Confirmed', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(79, 'lookup_value.value_name.23', 'en', 'Checked in', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(80, 'lookup_value.value_name.24', 'en', 'Cancelled', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(81, 'lookup_value.value_name.25', 'en', 'No show', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(82, 'lookup_value.value_name.28', 'en', 'Pending', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(83, 'lookup_value.value_name.29', 'en', 'In progress', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(84, 'lookup_value.value_name.30', 'en', 'Completed', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(85, 'lookup_value.value_name.31', 'en', 'Cancelled', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(86, 'lookup_value.value_name.35', 'en', 'Created', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(87, 'lookup_value.value_name.36', 'en', 'In progress', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(88, 'lookup_value.value_name.37', 'en', 'Ready', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(89, 'lookup_value.value_name.38', 'en', 'Served', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(90, 'lookup_value.value_name.39', 'en', 'Rejected', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(91, 'lookup_value.value_name.42', 'en', 'Available', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(92, 'lookup_value.value_name.43', 'en', 'Out of stock', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(93, 'lookup_value.value_name.44', 'en', 'Hidden', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(94, 'lookup_value.value_name.45', 'en', 'Scheduled', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(95, 'lookup_value.value_name.46', 'en', 'Active', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(96, 'lookup_value.value_name.47', 'en', 'Expired', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(97, 'lookup_value.value_name.48', 'en', 'Disabled', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(98, 'lookup_value.value_name.52', 'en', 'Image', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(99, 'lookup_value.value_name.53', 'en', 'Video', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(100, 'lookup_value.value_name.55', 'en', 'Cash', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(101, 'lookup_value.value_name.56', 'en', 'Card', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(102, 'lookup_value.value_name.57', 'en', 'QR', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(103, 'lookup_value.value_name.58', 'en', 'Dine-in', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(104, 'lookup_value.value_name.59', 'en', 'Takeaway', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(105, 'lookup_value.value_name.60', 'en', 'Delivery', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(106, 'lookup_value.value_name.61', 'en', 'Phone', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(107, 'lookup_value.value_name.62', 'en', 'Walk-in', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(108, 'lookup_value.value_name.63', 'en', 'Online', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(109, 'lookup_value.value_name.64', 'en', 'Normal', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(110, 'lookup_value.value_name.65', 'en', 'VIP', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(111, 'lookup_value.value_name.66', 'en', 'Outdoor', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(112, 'lookup_value.value_name.67', 'en', 'Booth', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(113, 'lookup_value.value_name.71', 'en', 'Low', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(114, 'lookup_value.value_name.72', 'en', 'Medium', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(115, 'lookup_value.value_name.73', 'en', 'High', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(116, 'lookup_value.value_name.74', 'en', 'Critical', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(117, 'lookup_value.value_name.78', 'en', 'Percent', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(118, 'lookup_value.value_name.79', 'en', 'Fixed amount', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(119, 'lookup_value.value_name.81', 'en', 'Raw material', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(120, 'lookup_value.value_name.82', 'en', 'Semi-processed', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(121, 'lookup_value.value_name.83', 'en', 'Seasoning', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(122, 'lookup_value.value_name.84', 'en', 'Beverage', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57'),
(123, 'lookup_value.value_name.85', 'en', 'Packaging', 'lookup value name', '2026-02-02 23:19:57', '2026-02-02 23:19:57');

-- 
-- Dumping data for table lookup_type
--
INSERT INTO lookup_type(type_id, type_code, type_name, description, is_configurable, is_system, type_name_text_id, type_desc_text_id) VALUES
(1, 'ACCOUNT_STATUS', 'Account Status', 'staff_account.account_status', 0, 1, 1, 32),
(2, 'INVENTORY_TX_TYPE', 'Inventory Transaction Type', 'inventory_transaction.type', 0, 1, 2, 33),
(3, 'INVENTORY_TX_STATUS', 'Inventory Transaction Status', 'inventory_transaction.status', 0, 1, 3, 34),
(4, 'MEDIA_TYPE', 'Media Type', 'media_asset.media_type_id', 1, 1, 4, 35),
(5, 'TABLE_STATUS', 'Table Status', 'restaurant_table.table_status', 0, 1, 5, 36),
(6, 'TABLE_TYPE', 'Table Type', 'restaurant_table.table_type', 1, 1, 6, 37),
(7, 'RESERVATION_SOURCE', 'Reservation Source', 'reservation.source_id', 1, 1, 7, 38),
(8, 'RESERVATION_STATUS', 'Reservation Status', 'reservation.reservation_status', 0, 1, 8, 39),
(9, 'ORDER_SOURCE', 'Order Source', 'orders.source_id', 1, 1, 9, 40),
(10, 'ORDER_STATUS', 'Order Status', 'orders.order_status', 0, 1, 10, 41),
(11, 'PAYMENT_METHOD', 'Payment Method', 'payment.method_id', 1, 1, 11, 42),
(12, 'DISH_STATUS', 'Dish Status', 'dish.dish_status', 0, 1, 12, 43),
(13, 'ORDER_ITEM_STATUS', 'Order Item Status', 'order_item.item_status', 0, 1, 13, 44),
(14, 'SEVERITY', 'Severity', 'service_error.severity_id', 1, 1, 14, 45),
(15, 'PROMOTION_TYPE', 'Promotion Type', 'promotion.type_id', 1, 1, 15, 46),
(16, 'PROMOTION_STATUS', 'Promotion Status', 'promotion.promotion_status', 0, 1, 16, 47),
(17, 'INGREDIENT_TYPE', 'Ingredient Type', 'ingredient.type', 1, 1, 17, 48);

-- 
-- Dumping data for table lookup_value
--
INSERT INTO lookup_value(value_id, type_id, value_code, value_name, sort_order, is_active, meta, is_system, locked, deleted_at, description, update_at, value_name_text_id, value_desc_text_id) VALUES
(1, 1, 'ACTIVE', 'Active', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 63, NULL),
(2, 1, 'INACTIVE', 'Inactive', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 64, NULL),
(3, 1, 'LOCKED', 'Locked', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 65, NULL),
(4, 2, 'IN', 'In', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 66, NULL),
(5, 2, 'OUT', 'Out', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 67, NULL),
(6, 2, 'ADJUST', 'Adjust', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 68, NULL),
(7, 3, 'DRAFT', 'Draft', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 69, NULL),
(8, 3, 'PENDING_APPROVAL', 'Pending approval', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 70, NULL),
(9, 3, 'COMPLETED', 'Completed', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 71, NULL),
(10, 3, 'CANCELLED', 'Cancelled', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 72, NULL),
(14, 5, 'AVAILABLE', 'Available', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 73, NULL),
(15, 5, 'OCCUPIED', 'Occupied', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 74, NULL),
(16, 5, 'RESERVED', 'Reserved', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 75, NULL),
(17, 5, 'LOCKED', 'Locked', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 76, NULL),
(21, 8, 'PENDING', 'Pending', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 77, NULL),
(22, 8, 'CONFIRMED', 'Confirmed', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 78, NULL),
(23, 8, 'CHECKED_IN', 'Checked in', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 79, NULL),
(24, 8, 'CANCELLED', 'Cancelled', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 80, NULL),
(25, 8, 'NO_SHOW', 'No show', 5, 1, '{"legacy_num": 5}', 1, 1, NULL, NULL, NULL, 81, NULL),
(28, 10, 'PENDING', 'Pending', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 82, NULL),
(29, 10, 'IN_PROGRESS', 'In progress', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 83, NULL),
(30, 10, 'COMPLETED', 'Completed', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 84, NULL),
(31, 10, 'CANCELLED', 'Cancelled', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 85, NULL),
(35, 13, 'CREATED', 'Created', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 86, NULL),
(36, 13, 'IN_PROGRESS', 'In progress', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 87, NULL),
(37, 13, 'READY', 'Ready', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 88, NULL),
(38, 13, 'SERVED', 'Served', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 89, NULL),
(39, 13, 'REJECTED', 'Rejected', 5, 1, '{"legacy_num": 5}', 1, 1, NULL, NULL, NULL, 90, NULL),
(42, 12, 'AVAILABLE', 'Available', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 91, NULL),
(43, 12, 'OUT_OF_STOCK', 'Out of stock', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 92, NULL),
(44, 12, 'HIDDEN', 'Hidden', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 93, NULL),
(45, 16, 'SCHEDULED', 'Scheduled', 1, 1, '{"legacy_num": 1}', 1, 1, NULL, NULL, NULL, 94, NULL),
(46, 16, 'ACTIVE', 'Active', 2, 1, '{"legacy_num": 2}', 1, 1, NULL, NULL, NULL, 95, NULL),
(47, 16, 'EXPIRED', 'Expired', 3, 1, '{"legacy_num": 3}', 1, 1, NULL, NULL, NULL, 96, NULL),
(48, 16, 'DISABLED', 'Disabled', 4, 1, '{"legacy_num": 4}', 1, 1, NULL, NULL, NULL, 97, NULL),
(52, 4, 'IMAGE', 'Image', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 98, NULL),
(53, 4, 'VIDEO', 'Video', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 99, NULL),
(55, 11, 'CASH', 'Cash', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 100, NULL),
(56, 11, 'CARD', 'Card', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 101, NULL),
(57, 11, 'QR', 'QR', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 102, NULL),
(58, 9, 'DINE_IN', 'Dine-in', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 103, NULL),
(59, 9, 'TAKEAWAY', 'Takeaway', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 104, NULL),
(60, 9, 'DELIVERY', 'Delivery', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 105, NULL),
(61, 7, 'PHONE', 'Phone', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 106, NULL),
(62, 7, 'WALK_IN', 'Walk-in', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 107, NULL),
(63, 7, 'ONLINE', 'Online', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 108, NULL),
(64, 6, 'NORMAL', 'Normal', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 109, NULL),
(65, 6, 'VIP', 'VIP', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 110, NULL),
(66, 6, 'OUTDOOR', 'Outdoor', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 111, NULL),
(67, 6, 'BOOTH', 'Booth', 4, 1, '{"legacy_num": 4}', 1, 0, NULL, NULL, NULL, 112, NULL),
(71, 14, 'LOW', 'Low', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 113, NULL),
(72, 14, 'MEDIUM', 'Medium', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 114, NULL),
(73, 14, 'HIGH', 'High', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 115, NULL),
(74, 14, 'CRITICAL', 'Critical', 4, 1, '{"legacy_num": 4}', 1, 0, NULL, NULL, NULL, 116, NULL),
(78, 15, 'PERCENT', 'Percent', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 117, NULL),
(79, 15, 'FIXED_AMOUNT', 'Fixed amount', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 118, NULL),
(81, 17, 'RAW_MATERIAL', 'Raw material', 1, 1, '{"legacy_num": 1}', 1, 0, NULL, NULL, NULL, 119, NULL),
(82, 17, 'SEMI_PROCESSED', 'Semi-processed', 2, 1, '{"legacy_num": 2}', 1, 0, NULL, NULL, NULL, 120, NULL),
(83, 17, 'SEASONING', 'Seasoning', 3, 1, '{"legacy_num": 3}', 1, 0, NULL, NULL, NULL, 121, NULL),
(84, 17, 'BEVERAGE', 'Beverage', 4, 1, '{"legacy_num": 4}', 1, 0, NULL, NULL, NULL, 122, NULL),
(85, 17, 'PACKAGING', 'Packaging', 5, 1, '{"legacy_num": 5}', 1, 0, NULL, NULL, NULL, 123, NULL);

-- 
-- Dumping data for table role
--
INSERT INTO role(role_id, role_code, role_name) VALUES
(1, 'ADMIN', 'Admin'),
(2, 'STAFF', 'Staff');

-- Table restaurant_mgmt.media_asset does not contain any data (it is empty)

-- 
-- Dumping data for table staff_account
--
INSERT INTO staff_account(account_id, full_name, phone, email, role_id, created_at, username, password_hash, is_locked, last_login_at, account_status_lv_id) VALUES
(1, 'dat', '0342164017', 'nguyenducdat0406@gmail.com', 2, '2026-01-22 23:16:23', 'staff_test_acc', '$2a$12$fDKaNANYfD4wllHpbydiDeRQAuc/G1YYczuEU03/BXkdb/FUUvKRC', 0, '2026-01-31 14:41:24', 1),
(2, 'admin', '0999999999', 'admin@gmail.com', 1, '2026-01-22 23:19:05', 'admin', '$2a$12$D2mHO0ctG2eHDA8kZ0JR5u6WmRkmaoMzNmjuwmIqFQfRRTlM2KbE2', 0, '2026-01-31 10:08:57', 1);

-- Table restaurant_mgmt.restaurant_table does not contain any data (it is empty)

-- Table restaurant_mgmt.customer does not contain any data (it is empty)

-- Table restaurant_mgmt.dish_category does not contain any data (it is empty)

-- Table restaurant_mgmt.orders does not contain any data (it is empty)

-- Table restaurant_mgmt.dish does not contain any data (it is empty)

-- Table restaurant_mgmt.supplier does not contain any data (it is empty)

-- Table restaurant_mgmt.service_error_category does not contain any data (it is empty)

-- Table restaurant_mgmt.order_item does not contain any data (it is empty)

-- 
-- Dumping data for table permission
--
INSERT INTO permission(permission_id, screen_code, action_code) VALUES
(1, 'ACCOUNT', 'CREATE'),
(2, 'ACCOUNT', 'UPDATE'),
(3, 'ACCOUNT', 'DELETE'),
(4, 'ACCOUNT', 'READ');

-- Table restaurant_mgmt.reservation does not contain any data (it is empty)

-- Table restaurant_mgmt.promotion does not contain any data (it is empty)

-- Table restaurant_mgmt.inventory_transaction does not contain any data (it is empty)

-- Table restaurant_mgmt.ingredient does not contain any data (it is empty)

-- Table restaurant_mgmt.table_media does not contain any data (it is empty)

-- 
-- Dumping data for table system_setting
--
INSERT INTO system_setting(setting_id, setting_key, value_type, value_string, value_int, value_decimal, value_bool, value_json, description, is_sensitive, updated_at, updated_by) VALUES
(1, 'default_password', 'STRING', 'AuLac@123', NULL, NULL, NULL, NULL, 'Default password for password reset', 1, '2026-02-01 23:05:36', NULL);

-- Table restaurant_mgmt.service_error does not contain any data (it is empty)

-- 
-- Dumping data for table role_permission
--
INSERT INTO role_permission(role_id, permission_id) VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4);

-- Table restaurant_mgmt.reservation_table does not contain any data (it is empty)

-- Table restaurant_mgmt.recipe does not contain any data (it is empty)

-- Table restaurant_mgmt.promotion_target does not contain any data (it is empty)

-- Table restaurant_mgmt.promotion_rule does not contain any data (it is empty)

-- Table restaurant_mgmt.payment does not contain any data (it is empty)

-- Table restaurant_mgmt.order_promotion does not contain any data (it is empty)

-- Table restaurant_mgmt.inventory_transaction_media does not contain any data (it is empty)

-- Table restaurant_mgmt.inventory_transaction_item does not contain any data (it is empty)

-- Table restaurant_mgmt.ingredient_supplier does not contain any data (it is empty)

-- Table restaurant_mgmt.i18n_translation does not contain any data (it is empty)

-- Table restaurant_mgmt.dish_media does not contain any data (it is empty)

-- Table restaurant_mgmt.current_stock does not contain any data (it is empty)

-- 
-- Dumping data for table auth_session
--
INSERT INTO auth_session(session_id, user_id, token_hash, expires_at, created_at, revoked, device_info, ip_address) VALUES
(4, 2, '5KesFnZBgnFoUfi8vQH31ztj5Vd29sXzIc7CBTciquk=', '2026-01-30 10:02:27', '2026-01-31 10:01:36', 1, 'PostmanRuntime/7.50.0', '::1'),
(5, 2, 'm8xhNXu6ZejNQA3mgJrCMWk2JbWUFPOBq9ZM310Nktk=', '2026-02-07 10:08:57', '2026-01-31 10:08:57', 0, 'PostmanRuntime/7.50.0', '::1'),
(6, 1, 'qF4VFFG4yabKcj4L65nq1J76Xz4gtRvViXif90cN8ag=', '2026-02-07 14:37:59', '2026-01-31 14:37:59', 0, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '::1'),
(7, 1, 'MwuOFmEzUE2Bc8UNAhaqD9l52lK2R2/HmwRg1xdRc6M=', '2026-02-07 14:38:37', '2026-01-31 14:38:37', 0, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '::1'),
(8, 1, 'X6KG+G8oL9dQfKEzKXnGeMFsDEUMykt3rWry12YMOas=', '2026-02-07 14:41:23', '2026-01-31 14:41:23', 0, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '::1');

-- Table restaurant_mgmt.audit_log does not contain any data (it is empty)

--
-- Restore previous SQL mode
--
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

--
-- Enable foreign keys
--
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;